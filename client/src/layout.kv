RootLayout:
    orientation: "vertical"

    MDScreenManager:
        id: screen_manager

        SignInScreen:
            id: sign_in_screen
            name: "sign_in_screen"

        SignUpScreen:
            id: sign_up_screen
            name: "sign_up_screen"

        ExploreScreen:
            id: explore_screen
            name: "explore_screen"

        HobbyScreen:
            id: hobby_screen
            name: "hobby_screen"

        ModuleScreen:
            id: module_screen
            name: "module_screen"

        UnitScreen:
            id: unit_screen
            name: "unit_screen"

<SignInScreen>
    MDBoxLayout:
        orientation: "vertical"
        padding: app.default_margin

        MDLabel:
            text: "Account name"

        MDTextField:
            id: account_name_input

        MDLabel:
            text: "Password"

        MDTextField:
            id: password_input

        MDRectangleFlatButton:
            text: "Log in"
            size_hint_x: 1.0

            on_release:
                app.root.ids.sign_in_screen.sign_in()

        MDGridLayout:
            rows: 2
            cols: 2

            MDLabel:
                text: "Donâ€™t have an account?"

            MDRectangleFlatButton:
                size_hint_x: 1.0
                text: "Create a new account"

                on_release:
                    app.root.ids.screen_manager.current = "sign_up_screen"
                    app.root.ids.screen_manager.transition.direction = "left"

            MDLabel:
                text: "Forgot your password?"

            MDRectangleFlatButton:
                size_hint_x: 1.0
                text: "Reset password"

<SignUpScreen>:
    MDBoxLayout:
        orientation: "vertical"
        padding: app.default_margin

        MDLabel:
            text: "Email address"

        MDTextField:
            id: email_input

        MDLabel:
            text: "Account name"

        MDTextField:
            id: account_name_input

        MDLabel:
            text: "Password"

        MDTextField:
            id: password_input

        MDRectangleFlatButton:
            size_hint_x: 1.0
            text: "Create a new account"

            on_release:
                app.root.ids.sign_up_screen.sign_up()

        MDGridLayout:
            cols: 2

            MDLabel:
                align: "center"
                text: "Already have an account?"

            MDRectangleFlatButton:
                size_hint_x: 1.0
                text: "Login to existing account"

                on_release:
                    app.root.ids.screen_manager.current = "sign_in_screen"
                    app.root.ids.screen_manager.transition.direction = "right"

<HobbyCard>:
    adaptive_height: True
    orientation: "vertical"

    on_release:
        app.root.ids.hobby_screen.load(self.item_id)
        app.root.ids.screen_manager.current = "hobby_screen"

    canvas:
        Color:
            rgb: app.theme_cls.bg_dark
        RoundedRectangle:
            pos: self.pos
            size: self.size

    MDLabel:
        adaptive_height: True
        padding: app.default_margin
        text: self.parent.title

    AsyncImage:
        height: dp(220)
        fit_mode: "cover"
        size_hint_y: None
        source: self.parent.picture_url

    MDLabel:
        adaptive_height: True
        padding: app.default_margin
        text: self.parent.short_description

<ExploreScreen>:
    MDScrollView:
        MDBoxLayout:
            id: hobbies

            adaptive_height: True
            orientation: "vertical"
            padding: app.default_margin
            spacing: app.default_margin

<ModuleCard>:
    adaptive_height: True
    orientation: "vertical"

    on_release:
        app.root.ids.module_screen.load(self.item_id)
        app.root.ids.screen_manager.current = "module_screen"

    canvas:
        Color:
            rgb: app.theme_cls.bg_dark
        RoundedRectangle:
            pos: self.pos
            size: self.size

    MDBoxLayout:
        adaptive_height: True
        orientation: "vertical"
        padding: app.default_margin
        spacing: app.default_margin

        MDLabel:
            adaptive_height: True
            text: self.parent.parent.title

        MDLabel:
            adaptive_height: True
            text: self.parent.parent.description

<HobbyScreen>:
    MDScrollView:
        MDBoxLayout:
            adaptive_height: True
            orientation: "vertical"
            padding: app.default_margin
            spacing: app.default_margin

            MDLabel:
                adaptive_height: True
                text: self.parent.parent.parent.title

            MDLabel:
                adaptive_height: True
                text: self.parent.parent.parent.long_description

            MDBoxLayout:
                id: modules
                adaptive_height: True
                orientation: "vertical"
                spacing: app.default_margin

<UnitCard>:
    adaptive_height: True
    orientation: "vertical"

    canvas:
        Color:
            rgb: app.theme_cls.bg_dark
        RoundedRectangle:
            pos: self.pos
            size: self.size

    MDLabel:
        adaptive_height: True
        text: self.parent.title
        padding: app.default_margin

<ModuleScreen>:
    MDScrollView:
        MDBoxLayout:
            adaptive_height: True
            orientation: "vertical"
            padding: app.default_margin
            spacing: app.default_margin

            MDLabel:
                adaptive_height: True
                text: self.parent.parent.parent.title

            MDBoxLayout:
                id: units
                adaptive_height: True
                orientation: "vertical"
                spacing: app.default_margin

<UnitScreen>

